buildscript {
	ext.kotlin_version = '1.3.20'

	repositories {
		mavenLocal()
		mavenCentral()
		maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
		jcenter()
	}
	dependencies {
		classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
		classpath "net.onedaybeard.artemis:artemis-odb-gradle-plugin:2.1.0"
	}
}

allprojects {
	apply plugin: "eclipse"
	apply plugin: "idea"

	version = '1.0'
	ext {
		appName = "Aurora J"
		gdxVersion = '1.9.8'
		ktxVersion = '1.9.8-b5'
		lwjglVersion = '3.2.1'
		log4jVersion = '1.2.17'
		jsapVersion = '2.1'
		artemisVersion = '2.2.0-SNAPSHOT'
		artemisContribVersion = '2.2.0'
	}

	repositories {
		mavenLocal()
		mavenCentral()
		maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
		maven { url "https://oss.sonatype.org/content/repositories/releases/" }
		maven { url 'https://jitpack.io' }
	}
	
	eclipse.classpath {
		containers 'org.jetbrains.kotlin.core.KOTLIN_CONTAINER'
	}
}

project(":desktop") {
	apply plugin: "java"
	apply plugin: "kotlin"
	
	dependencies {
		compile project(":core")
		compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version"
		compile "com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop"
		compile "com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop"
		compile "com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop"
		compile "log4j:log4j:$log4jVersion"
		compile "com.martiansoftware:jsap:$jsapVersion"
	}
}

project(":core") {
	apply plugin: "java"
	apply plugin: "kotlin"
	apply plugin: "artemis"

	dependencies {
		compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
		compile "org.jetbrains.kotlin:kotlin-reflect:$kotlin_version"
				
		compile "com.badlogicgames.gdx:gdx:$gdxVersion"
		compile "com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion"
		compile "com.badlogicgames.gdx:gdx-box2d:$gdxVersion"
		compile "com.badlogicgames.gdx:gdx-ai:1.8.1"
		compile "com.badlogicgames.gdx:gdx-freetype:$gdxVersion"
		compile "com.badlogicgames.box2dlights:box2dlights:1.4"
		
		compile "io.github.libktx:ktx-actors:$ktxVersion"
		compile "io.github.libktx:ktx-app:$ktxVersion"
		compile "io.github.libktx:ktx-assets:$ktxVersion"
		compile "io.github.libktx:ktx-collections:$ktxVersion"
		compile "io.github.libktx:ktx-freetype:$ktxVersion"
		compile "io.github.libktx:ktx-freetype-async:$ktxVersion"
		compile "io.github.libktx:ktx-math:$ktxVersion"
		compile "io.github.libktx:ktx-scene2d:$ktxVersion"
		compile "io.github.libktx:ktx-style:$ktxVersion"
		
		compile "log4j:log4j:$log4jVersion"
		compile "com.martiansoftware:jsap:$jsapVersion"
		compile "com.esotericsoftware:kryo:4.0.1"
		compile "com.esotericsoftware:jsonbeans:0.7"
		compile "org.xerial:sqlite-jdbc:3.21.0"
		// compile files("lib/sqlite-jdbc-3.21.0.jar")
		compile "org.jasypt:jasypt:1.9.2"
		
		compile "net.onedaybeard.artemis:artemis-odb:$artemisVersion"
		compile "net.onedaybeard.artemis:artemis-odb-serializer-json-libgdx:$artemisVersion"
		compile "net.onedaybeard.artemis:artemis-odb-serializer-kryo:$artemisVersion"
		compile "net.mostlyoriginal.artemis-odb:contrib-core:$artemisContribVersion"
			compile "net.mostlyoriginal.artemis-odb:contrib-eventbus:$artemisContribVersion"
			compile "net.mostlyoriginal.artemis-odb:contrib-plugin-operations:$artemisContribVersion"
		compile "net.mostlyoriginal.artemis-odb:contrib-plugin-profiler:$artemisContribVersion"
		
		compile "org.lwjgl:lwjgl:$lwjglVersion"
		compile "org.lwjgl:lwjgl-glfw:$lwjglVersion"
		compile "org.lwjgl:lwjgl-jemalloc:$lwjglVersion"
		compile "org.lwjgl:lwjgl-opengl:$lwjglVersion"
		compile "org.lwjgl:lwjgl-openal:$lwjglVersion"
				compile "org.lwjgl:lwjgl-stb:$lwjglVersion"
				compile "org.lwjgl:lwjgl-stb:${lwjglVersion}:natives-windows"
				
				 compile ("com.github.kotlin-graphics:imgui:-SNAPSHOT") {
					exclude group: 'org.jogamp.gluegen'
					exclude group: 'org.jogamp.jogl'
					exclude group: 'org.lwjgl'
					exclude group: 'org.jetbrains.kotlin'
		}
	}
}

tasks.eclipse.doLast {
	delete ".project"
}